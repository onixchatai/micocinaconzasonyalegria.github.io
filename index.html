<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <meta name="theme-color" content="#ff6a3d"/>
  <title>Mary's Tacos • Order Pickup</title>
  <link rel="manifest" href="manifest.json">
  <link rel="icon" href="assets/icon-192.png">
  <link rel="apple-touch-icon" href="assets/icon-192.png">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <link rel="stylesheet" href="styles.css">
  <script defer src="app.js"></script>
</head>
<body>
  <header class="app-header">
    <div class="brand">
      <img src="assets/logo.svg" alt="Mary's Tacos logo" class="logo">
      <div>
        <h1>Mi Cosina</h1>
        <p class="subtitle">Pickup-only • Order ahead</p>
      </div>
    </div>
    <button id="installBtn" class="btn ghost">Install App</button>
  </header>

  <nav class="tabs" id="categoryTabs">
    <!-- Filled by JS -->
  </nav>

  <main class="content">
    <section id="menuList" class="grid"></section>
  </main>

  <div class="cart-bar" id="cartBar" aria-live="polite">
    <button id="viewCartBtn" class="btn primary">Cart • <span id="cartCount">0</span> • <span id="cartTotal">$0.00</span></button>
  </div>

  <dialog id="cartDialog">
    <form method="dialog" class="cart-panel">
      <header class="cart-header">
        <h2>Your Order</h2>
        <button value="cancel" class="btn ghost">Close</button>
      </header>
      <div id="cartItems"></div>
      <div class="cart-summary">
        <label class="row">
          <span>Pickup Time</span>
          <select id="pickupTime"></select>
        </label>
        <label class="row">
          <span>Name</span>
          <input id="custName" placeholder="Your name" required>
        </label>
        <label class="row">
          <span>Phone</span>
          <input id="custPhone" inputmode="tel" placeholder="(xxx) xxx-xxxx" required>
        </label>
        <details class="zelle-tip">
          <summary>Zelle Payment (optional)</summary>
          <img src="assets/zelle-qr.svg" alt="Zelle QR" class="qr">
          <p class="muted">Show payment at pickup. Zelle is optional.</p>
        </details>
        <div class="totals">
          <div class="row"><span>Subtotal</span><strong id="subTotal">$0.00</strong></div>
          <div class="row"><span>Tax</span><strong id="taxTotal">$0.00</strong></div>
          <div class="row"><span>Total</span><strong id="grandTotal">$0.00</strong></div>
        </div>
      </div>
      <footer class="cart-footer">
        <button id="clearCartBtn" class="btn ghost" type="button">Clear</button>
        <button id="submitOrderBtn" class="btn primary" type="button">Place Order</button>
      </footer>
      <p class="tiny muted">Pickup only • No delivery • No online payments at launch</p>
    </form>
  </dialog>

  <footer class="footer">
    <p>© <span id="year"></span> onixchatai.com • Built with ♥</p>
    <a class="tiny muted" href="https://onixchatai.com" target="_blank" rel="noopener">Powered by OnixChatAI</a>
  </footer>

  <noscript>Please enable JavaScript to use the ordering app.</noscript>
  <script>
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
        navigator.serviceWorker.register('service-worker.js');
      });
    }
  </script>
</body>
</html>
